<div class="panel-header panel-header-sm" style="background: #f96332;">
</div>
<div class="main-content" style="background: rgb(211, 233, 237);"><br>
	<div class="row">
	<div class="col-md-2"></div>
	  <div class="col-md-8">
		<div style="background: white; border-radius:15rem;">
		  <div class="input-group no-border">
			<input type="text" id="searchString1" [(ngModel)]="searchString1" class="form-control" placeholder="Search..." value="">
			<div class="input-group-append">
			  <div class="input-group-text">
				<i class="now-ui-icons ui-1_zoom-bold" (click)="search(searchString1)"></i>
			  </div>
			</div>
		  </div>
		</div>
	  </div>
	</div>
	<div class="row">
	<div class="col-md-2"></div>
	<div class="col-md-8">	
      <div class="card">
        <div class="card-header">
		
		<div class="row">
			<div class="col-md-9 pr-1">
				<h4 class="card-title">Результаты поиска </h4>
			</div>
			<div class="col-md-1 pr-1">
			</div>
			<div class="col-md-2 pr-1">
				<h4 class="card-title " style="color: #f96332;">{{resCount}}</h4>
			</div>
		  </div>
        </div>
        <div class="card-body">
          <div class="table-responsive">
            <table class="table">
              <tr *ngFor="let rep of repos">
                <td>
                  <div>Название: <a href="{{rep.html_url}}">{{rep.full_name}}</a></div><br>
                  <div>Создатель: <a href ="{{rep.owner.html_url}}">{{rep.owner.login}}</a></div><br>
                  <div>Дата последнего изменения: {{rep.pushed_at}}</div><br>
				  <div>Описание: {{rep.description}}</div><br>
				  <div *ngIf="showCommits == -1 || showCommits != rep.id" (click)="getCommits(rep.id, rep.owner.login, rep.name)"><p class="btn btn-neutral" style="color: #f96332; padding: 0; margin: 0; width: 100%; text-align: left; font-size: medium;">Показать список коммитов</p></div>
				  <div *ngIf="showCommits > -1 && showCommits == rep.id" (click)="getCommits(rep.id, rep.owner.login, rep.name)"><p class="btn btn-neutral" style="color: #f96332; padding: 0; margin: 0; width: 100%; text-align: left; font-size: medium;">Скрыть список коммитов</p></div>
				
				  <div *ngIf="showCommits > -1 && showCommits == rep.id">
					<table class="table">
						<tr *ngFor="let commit of commits">
							<td>
								<div>Дата коммита: {{commit.commit.author.date}}</div><br>
								<div>Описание коммита: {{commit.commit.message}}</div><br>
								<div>Автор: {{commit.commit.author.email}}</div><br>
							</td>
						</tr>
					</table>
				  </div>
				</td>
                <td class="td-actions text-right">
                  <button type="button" rel="tooltip" title="Получать уведомления" (click)="subscribe(rep.id)" class="btn btn-info btn-round btn-icon btn-icon-mini btn-neutral">
                    <i class="now-ui-icons ui-1_bell-53"></i>
                  </button>
                </td>
              </tr>
            </table>
          </div>
        </div>
      </div>
	  <div *ngIf="pages > 1">
        <button type="button" rel="tooltip" title="На предыдущую" (click)="changePage(-1, 'page')" class="btn btn-info btn-round btn-icon btn-icon-mini btn-neutral">
          <i class="now-ui-icons arrows-1_minimal-left"></i>
        </button>
		<div class="form-check btn btn-info btn-round btn-icon btn-icon-mini btn-neutral" *ngFor="let index of createRange(pages)">
		  <input *ngIf="index == selectedPage" class="form-control" type="button" value="{{index}}" (click)="goToPage(index, 'page')" style="border-color:#fd7e14">
		  <input *ngIf="index != selectedPage" class="form-control" type="button" value="{{index}}" (click)="goToPage(index, 'page')">
		</div>
        <button type="button" rel="tooltip" title="На следующую" (click)="changePage(1, 'page')" class="btn btn-info btn-round btn-icon btn-icon-mini btn-neutral">
          <i class="now-ui-icons arrows-1_minimal-right"></i>
        </button>
      </div>
    </div>
  </div>
</div>
